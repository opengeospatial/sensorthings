[[ats_sta_websub_discovery_link_self]]
[abstract_test]
====
[%metadata]
label:: /conf/discovery/api-sta-websub-link-header-self
identifier:: /conf/discovery/api-sta-websub-link-header-self
target:: /req/req-class-discovery/req-link-self
subject:: /req/req-class/discovery/req-discovery-self
test-purpose:: Validate that the WebSub discovery returns the link headers `hub` and `self` for a topic URL that is **allowed** for subscription.

[.component,class=test method]
=====
[.component,class=step]
--
Construct a topic URL that is **allowed** for subscription. A topic URL does not include a query string.
--

[NOTE]
To determine which topics **are allowed**, examine the root page and check the `topics_denied` array.

[.component,class=step]
--
Issue a HTTP HEAD and GET request on that topic URL.
--

[.component,class=step]
--
Validate that the response includes the Link header `hub` and `self`. Also validate that the Link header `help` is not present!
--
=====
====
